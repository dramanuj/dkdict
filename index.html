<!DOCTYPE html>
<html>
<head>
    <style>
      div.main{padding: 85px 0; text-align: center;}
      div.dk {font-size: 85px;  text-align: center;}
      div.space {height: 25px;  text-align: center;}
      div.eng {font-size: 35px; text-align: center; color: rgb(100,100,100);}
    </style>



</head>

<body>
  <div class="main">
    <div id="dkWord" class="dk">!</div>
    <div class="space"></div>
    <div id="engWord" class="eng">!</div>
  </div>
<script src="danishDict.js"></script>
<script>
var letter = inputWordListLetter();
var items = Object.keys(dict)
var firstItem = items.map(([v])=> v);
var matchItems = [];
var index = firstItem.indexOf(letter);
for (var i in index) {
  matchItems.push(items[index[i]]);
}

var uLimit = matchItems.length;
var randomArray = createArray(uLimit);
randomArray = shuffleArray(randomArray);
setInterval(runDictSlideShow, 5000, dict, matchItems, randomArray);



function runDictSlideShow(dict, items, randomArray) {
  if (randomArray.length > 0){
        var randNum = randomArray.pop(0);
        var item = items[randNum];   
        document.getElementById("engWord").innerHTML = " ";     
        document.getElementById("dkWord").innerHTML = item;
        setTimeout(function(){ document.getElementById("engWord").innerHTML = dict[item];}, 2000);  
    }
    if(randomArray.length == 0){location.reload();}
  }

    
function createArray(uplim){
  numArray=[];
  for(i=1;i<=uplim;i++){
    numArray.push(i);
  };
return numArray;
}

function shuffleArray(numArray) {
  var currentIndex = numArray.length, temporaryValue, randomIndex;
  while (0 !== currentIndex) {
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;
    temporaryValue = numArray[currentIndex];
    numArray[currentIndex] = numArray[randomIndex];
    numArray[randomIndex] = temporaryValue;
  }
  return numArray;
}


function inputWordListLetter() {
  var letter = prompt("Please enter a letter to start the list");
  var testLetter = /^[a-zA-Z\-_ ’'‘ÅåÆæØø]$/.test(letter)
  if (testLetter == true) {
    return letter
  } else {

    alert("Oops :( - Please enter a valid letter");
    inputWordListLetter();
  }



}


      </script>
      
</body>
</html>
